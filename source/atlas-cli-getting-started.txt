.. _atlas-cli-onboarding:

===============================================
Get Started with |service| with ``atlas setup``
===============================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 1
   :class: singlecol

This tutorial demonstrates how to use the ``atlas setup`` command to: 

1. Sign up for an |service| account.
#. Create one |service| organization project.
#. Create one cluster in your |service| project.
#. Load :atlas:`sample data </sample-data/available-sample-datasets/>` 
   into your |service| cluster.
#. Add your IP address to your project's IP access list.
#. Create a MongoDB user for your |service| cluster.
#. Connect to your new cluster using the MongoDB Shell, {+mongosh+}.

You can also run ``atlas setup`` if:

- You have an |service| account, but you haven't set up an
  organization, project, or {+cluster+}.
- You have an |service| account and an organization/project, but you
  haven't set up a {+cluster+}.

.. _atlas-cli-onboarding-reqs:

Prerequisites 
-------------

Before you begin, you must :ref:`install the {+atlas-cli+}<install-atlas-cli>`. 

Follow These Steps
------------------

Complete the following procedure to get started with |service|.

.. procedure::

   .. step:: Run the ``atlas setup`` command in the terminal.

      .. code-block:: sh
      
         atlas setup
         
      A browser window displays the :guilabel:`Create Your Account` screen.

      If you are already logged into an |service| account, ``atlas setup`` performs one of hte following actions:

      - Creates your first organization and project if no organization
        or project exists.
      - Prompts you to select a default organization and default
        project if you have existing organizations and projects. Select a default organization and project and press :guilabel:`Enter`.

      If you are already logged into an existing |service| account, proceed to step 4.

   .. step:: Sign up and verify your account.

      Enter your account information and click :guilabel:`Sign Up`. Follow the prompts to verify your email or register using third-party authentication.

      |service| automatically creates your first organization and project.

   .. step:: Verify your {+atlas-cli+} session.

      When you reach the :guilabel:`Paste or enter {+atlas-cli+} verification code` screen, copy the verification code from the {+atlas-cli+} and paste it into the browser. Then, click :guilabel:`Confirm Authorization` and return to the terminal window.

   .. step:: Choose your {+cluster+} creation settings.

      ``atlas setup`` creates an ``M0`` cluster in |service|. ``M0``
      clusters have some operational :ref:`limitations <atlas-free-tier>`.

      You can choose from the following {+cluster+} creation settings: 
      
      - **Default settings mode**: the command creates a sample shared-tier cluster with the default settings.
      - **Interactive mode**: the command prompts you for the cluster settings and provides default values. 
      - **Noninteractive mode**: you run the command with the options.
      
      Click the tab to see next steps for your preferred mode. 
  
      .. tabs:: 

         .. tab:: Default Settings Mode
            :tabid: default

            When the {+atlas-cli+} prompts ``Do you want to set up your first free database in Atlas with default settings? It's free forever!``, enter :guilabel:`Y`.
            
            The command creates a sample ``M0`` shared-tier cluster with the 
            following default settings:
 
            - Cluster name: ``Cluster<number>``
            - Cloud provider and region: ``AWS - US_EAST_1``
            - Database Username: ``Cluster<number>``
            - Database User Password: ``abcdef12345``
            - Load Sample Data: ``Yes``
            - Allow connection from IP: ``<YourIPAddress>``
  
            .. io-code-block::
         
               .. input::
                  :language: sh
            
                  Do you want to set up your first free database in Atlas with default settings? It's free forever! **Y**

               .. output::
                  :language: sh

                  We are deploying Cluster9876543...

                  Please store your database authentication access details in a secure location.
                  Database User Username: Cluster9876543
                  Database User Password: abcdef12345

                  Connection string: mongosh -u Cluster-9876543 -p abcdef12345 mongod

                  Creating your cluster... [Its safe to 'Ctrl + C']

         .. tab:: Interactive Mode
            :tabid: interactive

            The command prompts you for the cluster settings and provides default options. Press :kbd:`Enter` when prompted to accept the default settings. 

            .. io-code-block::
         
               .. input::
                  :language: sh
            
                  atlas quickstart 

               .. output::
                  :language: sh

                  You are creating a new Atlas cluster and enabling access to it.

                  Press [Enter] to use the default values.

                  Enter [?] on any option to get help.

                  [Set up your Atlas cluster]
                  ? Cluster Name [This cant be changed later] Quickstart-9876543
                  ? Cloud Provider AWS
                  ? Cloud Provider Region US_EAST_1
                  ? Do you want to load sample data into Quickstart-9876543? Yes

                  [Set up your database authentication access details]
                  ? Database User Username Quickstart-2345678
                  ? Database User Password [Press Enter to use an auto-generated password 'abcdef12345'] abcdef12345

                  [Set up your database network access details]
                  ? Access List Entry [Press Enter to use your public IP address '192.0.2.0'] 192.0.2.0

                 [Connect to Quickstart-9876543]
                  ? Do you want to access Quickstart-9876543 with MongoDB Shell? Yes

                  [Summary of changes]
                  Cluster Name:                          Quickstart-9876543
                  Cluster Tier:                          M0
                  Cloud Provider:                        AWS
                  Region:                                US_EAST_1
                  Cluster Disk Size (GiB):               0.5
                  Database Username:                     Quickstart-9876543
                  Allow connections from (IP Address):   192.0.2.0
                  Load sample data:                      Yes
                  Open shell:                            No
                  ? Do you want to create a new cluster Quickstart-9876543 with the following settings? Yes
                  We are deploying Quickstart-9876543...
                  Creating your cluster... [Its safe to 'Ctrl + C']

                  Loading sample data into your cluster... [Its safe to 'Ctrl + C']

                  Now you can connect to your Atlas cluster with: mongosh -u Quickstart-9876543 -p abcdef12345 mongodb+srv://quickstart-9876543.example.mongodb.net

         .. tab:: Non-Interactive Mode
            :tabid: noninteractive
      
            The command creates a sample shared-tier cluster with the 
            following settings:
      
            - Cluster name: ``getStarted``
            - Service provider: ``AWS``
            - Provider region: ``US_EAST-1``
            - Cluster tier: ``M0``
            - Disk size: ``2`` GB
            - MongoDB version: ``5.0``
            - Replica set members: ``3``
      
            .. io-code-block::

               .. input::
                  :language: sh 

                  atlas quickstart --clusterName getStarted --provider AWS --region US_EAST_1 --username testUser --password changeMe accessListIp 192.0.2.15 --skipSampleData
            
               .. output::
                  :language: sh

                  You are creating a new Atlas cluster and enabling access to it.

                  Press [Enter] to use the default values.

                  Enter [?] on any option to get help.

                  [Set up your database network access details]
                  ? Access List Entry [Press Enter to use your public IP address '192.0.2.15'] 192.0.2.15

                  [Connect to getStarted]
                  ? Do you want to access getStarted with MongoDB Shell? Yes

                  [Summary of changes]
                  Cluster Name:                          getStarted
                  Cluster Tier:                          M0
                  Cloud Provider:                        AWS
                  Region:                                US_EAST_1
                  Cluster Disk Size (GiB):               0.5
                  Database Username:                     testUser
                  Allow connections from (IP Address):   192.0.2.15
                  Load sample data:                      No
                  Open shell:                            No
                  ? Do you want to create a new cluster getStarted with the following settings? Yes
                  We are deploying getStarted...
                  Creating your cluster... [Its safe to 'Ctrl + C']


                  Now you can connect to your |service| cluster with: mongosh -u testUser -p changeMe mongodb+srv://getStarted.example.mongodb.net

.. _atlas-cli-onboarding-summary:

Take the Next Steps
-------------------

Congratulations! You have successfully created a cluster to host your
data. 

Use the :manual:`connection string </reference/connection-string/#connection-string-options>` 
to connect to your cluster through {+mongosh+} or your application.

To view the status of your cluster, run an ``atlas clusters`` command in the {+atlas-cli+}.